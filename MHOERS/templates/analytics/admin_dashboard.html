{% extends 'base.html' %}
{% load static %}

{% block content %}

<link rel="stylesheet" href="{% static 'css/admin_dashboard.css' %}" />

<!-- Navbar Include -->
{% include 'components/navbar.html' %}

<div class="container-fluid">
  <!-- ✅ UTILITIES STATISTICS CARDS -->
  <div class="row mt-4 g-3"> 
    <div class="col-md-3">
      <div class="card-counter primary">
        <i class="fa fa-users"></i>
        <span class="count-numbers">{{ total_users|default:0 }}</span>
        <span class="count-name">Total Users</span>
      </div>
    </div>

    <div class="col-md-3">
      <div class="card-counter success">
        <i class="fa fa-hospital"></i>
        <span class="count-numbers">{{ total_facilities|default:0 }}</span>
        <span class="count-name">Total Facilities</span>
      </div>
    </div>

    <div class="col-md-3">
      <div class="card-counter warning">
        <i class="fa fa-hourglass"></i>
        <span class="count-numbers">{{ total_pending_users|default:0 }}</span>
        <span class="count-name">Pending Approvals</span>
      </div>
    </div>

    <div class="col-md-3">
      <div class="card-counter info">
        <i class="fa fa-check-circle"></i>
        <span class="count-numbers">{{ total_active_users|default:0 }}</span>
        <span class="count-name">Active Users</span>
      </div>
    </div>
  </div>

  <!-- ✅ PENDING USER APPROVALS DETAILS -->
  <div class="row mt-4">
    <div class="col-12">
      <div class="card border-0 shadow-sm">
        <div class="card-body p-4">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h4 class="fw-bold mb-0">Pending User Approvals</h4>
            <a href="{% url 'user_management' %}?active_tab=tab1" class="btn btn-primary btn-sm">
              <i class="bi bi-arrow-right"></i> Manage Users
            </a>
          </div>
          <div class="row g-3">
            <div class="col-md-6">
              <div class="card bg-light">
                <div class="card-body text-center">
                  <h5 class="text-primary">{{ pending_bhw|default:0 }}</h5>
                  <p class="mb-0 text-muted">BHW Pending</p>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="card bg-light">
                <div class="card-body text-center">
                  <h5 class="text-primary">{{ pending_doctors|default:0 }}</h5>
                  <p class="mb-0 text-muted">Doctors Pending</p>
                </div>
              </div>
            </div>
            
            
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% block script %}
<!-- ✅ Removed medical-related scripts (heatmap, calendar) -->
<!-- Notifications are now handled automatically by notification_poller.js in base.html -->
{% endblock script %}

{% endblock %}

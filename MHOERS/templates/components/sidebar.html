{% load static %}

<!-- Mobile Toggle Button -->
<button class="sidebar-toggle" id="sidebarToggle">
  <i class="bi bi-list"></i>
</button>

<aside class="sidebar" id="sidebar">
  <header class="sidebar-header">
    <div class="header-content">
      <a href="#" class="header-logo">
        <img src="{% static 'images/newcorellalogo.png' %}" alt="Logo" />
      </a>
      <div class="header-text">
        <h3 class="app-title">MHO-NewCorella</h3>
        <span class="username">{{ request.user.username }}</span>
      </div>
    </div>
    
    <!-- Close button for mobile -->
    <button class="sidebar-close" id="sidebarClose">
      <i class="bi bi-x-lg"></i>
    </button>
  </header>

  <nav class="sidebar-nav">
    {% if is_approved %}
      <ul class="nav-list primary-nav">
        <li class="nav-item">
          <a
            href="{% url 'home' %}"
            class="nav-link {% if active_page == 'home' %}active{% endif %}"
            data-tooltip="Dashboard"
          >
            <i class="bi bi-speedometer"></i>
            <span class="nav-label">Dashboard</span>
          </a>
        </li>

        <li class="nav-item">
          <a href="{% url 'referrals:assessment' %}" class="nav-link {% if active_page == 'assessment' %}active{% endif %}" data-tooltip="Assessment">
            <i class="bi bi-menu-button-wide"></i>
            <span class="nav-label">Assessment</span>
          </a>
        </li>

        <li class="nav-item">
          <a
            href="{% url 'referrals:referral_list' %}"
            class="nav-link {% if active_page == 'referral_list' %}active{% endif %}"
            data-tooltip="Referral"
          >
            <i class="bi bi-person-add"></i>
            <span class="nav-label">Referral</span>
            {% if active_referrals_count > 0 %}
              <span class="notification-badge">{{ active_referrals_count }}</span>
            {% endif %}
          </a> 
        </li>

        <li class="nav-item">
          <a
            href="{% url 'patients:barangayPatients' %}"
            class="nav-link {% if active_page == 'barangayPatients' %}active{% endif %}"
            data-tooltip="Patients"
          >
            <i class="bi bi-list-ul"></i>
            <span class="nav-label">Patients/History</span>
          </a>
        </li>

        <li class="nav-item">
          <a
            href="{% url 'user_report' %}"
            class="nav-link {% if active_page == 'user_report' %}active{% endif %}"
            data-tooltip="Report"
          >
            <i class="bi bi-newspaper"></i>
            <span class="nav-label">Report</span>
          </a>
        </li>
      </ul>
    {% else %}
      <ul class="nav-list primary-nav">
        <li class="nav-item">
          <a href="{% url 'pending_dashboard' %}" class="nav-link {% if active_page == 'pending' %}active{% endif %}" data-tooltip="Pending">
            <i class="bi bi-hourglass-split"></i>
            <span class="nav-label">Pending Approval</span>
          </a>
        </li>
      </ul>
    {% endif %}

    <ul class="nav-list secondary-nav">
      <li class="nav-item">
        <a href="{% url 'profile' %}" class="nav-link {% if active_page == 'profile' %}active{% endif %}" data-tooltip="Profile">
          <i class="bi bi-person-circle"></i>
          <span class="nav-label">Profile</span>
        </a>
      </li>
      <li class="nav-item">
        <a href="{% url 'logout' %}" class="nav-link" data-tooltip="Logout">
          <i class="bi bi-box-arrow-left"></i>
          <span class="nav-label">Logout</span>
        </a>
      </li>
    </ul>
  </nav>
</aside>

<!-- Overlay for mobile -->
<div class="sidebar-overlay" id="sidebarOverlay"></div>

 
<div class="modal fade" id="viewPatients" tabindex="-1" aria-labelledby="viewPatientsLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content shadow-lg border-0">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title" id="viewPatientsLabel">
          <i class="bi bi-person-lines-fill me-2"></i>Patient Information
        </h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body p-4">
        {% csrf_token %}
        
        <!-- Basic Information -->
        <div class="row mb-4">
          <div class="col-12">
            <h6 class="text-primary border-bottom pb-2 mb-3"><i class="bi bi-person me-2"></i>Basic Information</h6>
          </div>
          <div class="col-md-4 mb-3">
            <label class="font-weight-bold text-muted small">Patient Name</label>
            <input type="text" class="form-control bg-light" id="viewPatientName" readonly>
          </div>
          <div class="col-md-4 mb-3">
            <label class="font-weight-bold text-muted small">Birth Date</label>
            <input type="text" class="form-control bg-light" id="viewPatientBday" readonly>
          </div>
          <div class="col-md-4 mb-3">
            <label class="font-weight-bold text-muted small">Sex</label>
            <input type="text" class="form-control bg-light" id="viewSex" readonly>
          </div>
        </div>

        <!-- Contact Information -->
        <div class="row mb-4">
          <div class="col-12">
            <h6 class="text-primary border-bottom pb-2 mb-3"><i class="bi bi-telephone me-2"></i>Contact Information</h6>
          </div>
          <div class="col-md-12 mb-3">
            <label class="font-weight-bold text-muted small">Address</label>
            <input type="text" class="form-control bg-light" id="viewAddress" readonly>
          </div>
        </div>

        <!-- Additional Information -->
        <div class="row mb-4">
          <div class="col-12">
            <h6 class="text-primary border-bottom pb-2 mb-3"><i class="bi bi-info-circle me-2"></i>Additional Information</h6>
          </div>
          <div class="col-md-3 mb-3">
            <label class="font-weight-bold text-muted small">Civil Status</label>
            <input type="text" class="form-control bg-light" id="viewCivilStatus" readonly>
          </div>
          <div class="col-md-3 mb-3">
            <label class="font-weight-bold text-muted small">PHIC Status</label>
            <input type="text" class="form-control bg-light" id="viewPhicStatus" readonly>
          </div>
          <div class="col-md-3 mb-3">
            <label class="font-weight-bold text-muted small">CCT Beneficiary</label>
            <input type="text" class="form-control bg-light" id="viewCctBeneficiary" readonly>
          </div>
          <div class="col-md-3 mb-3">
            <label class="font-weight-bold text-muted small">Person With Disability (PWD)</label>
            <input type="text" class="form-control bg-light" id="viewIsPwd" readonly>
          </div>
        </div>

        <!-- Referral Information -->
        <div class="row mb-4">
          <div class="col-12">
            <h6 class="text-primary border-bottom pb-2 mb-3"><i class="bi bi-list-ol me-2"></i>Referral Information</h6>
          </div>
          <div class="col-md-6 mb-3">
            <label class="font-weight-bold text-muted small">Referral Count</label>
            <input type="text" class="form-control bg-light" id="viewReferralCount" readonly>
          </div>
          <div class="col-md-6 mb-3">
            <label class="font-weight-bold text-muted small">Last Referred</label>
            <input type="text" class="form-control bg-light" id="viewLastReferred" readonly>
          </div>
        </div>

        <!-- Referral History -->
        <div class="row mb-4">
          <div class="col-12">
            <h6 class="text-primary border-bottom pb-2 mb-3"><i class="bi bi-clock-history me-2"></i>Referral History</h6>
            
            <!-- Date Range Filter -->
            <div class="row mb-3">
              <div class="col-md-4">
                <label class="small text-muted mb-1">From Date</label>
                <input type="date" class="form-control form-control-sm" id="referralFilterFrom" placeholder="Start date">
              </div>
              <div class="col-md-4">
                <label class="small text-muted mb-1">To Date</label>
                <input type="date" class="form-control form-control-sm" id="referralFilterTo" placeholder="End date">
              </div>
              <div class="col-md-4 d-flex align-items-end">
                <button type="button" class="btn btn-sm btn-primary me-2" id="applyReferralFilter">
                  <i class="bi bi-funnel me-1"></i>Filter
                </button>
                <button type="button" class="btn btn-sm btn-outline-secondary" id="clearReferralFilter">
                  <i class="bi bi-x-circle me-1"></i>Clear
                </button>
              </div>
            </div>
            
            <div id="viewReferralHistory" class="border rounded p-3 bg-light" style="max-height: 260px; overflow: auto;">
              <div class="text-muted">No history loaded.</div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer bg-light">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          <i class="bi bi-arrow-left me-2"></i>Close
        </button>
      </div>
    </div>
  </div>
</div>












